(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b():'function'==typeof define&&define.amd?define('GherkinEditor',[],b):'object'==typeof exports?exports.GherkinEditor=b():a.GherkinEditor=b()})('undefined'==typeof self?this:self,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='./',b(b.s=1)}([function(a){a.exports=require('react')},function(a,b,c){a.exports=c(2)},function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function e(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function f(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function g(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function h(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,'__esModule',{value:!0});var i=c(0),j=c.n(i),k=c(3),l=c.n(k),m=c(4),n=c.n(m),o=c(5),p=c.n(o),q=['Given','When','Then','And','But'],r=['Feature','Background','Example','Scenario','Scenario Outline','Scenario Template','Examples'].concat(q),s=function a(){d(this,a),Object.defineProperty(this,'getCompletions',{enumerable:!0,writable:!0,value:function(a,b,c,d,e){return new Promise(function(a){var d=b.getLine(c.row).trim().split(' ');if(1===d.length){var f=r.map(function(a,b){return{caption:a,value:a,score:b,meta:'Keyword'}});e(null,f)}return a()})}})},t=c(6),u=c.n(t),v=c(7),w=c.n(v),x=function a(b){var c=this;e(this,a),Object.defineProperty(this,'getCompletions',{enumerable:!0,writable:!0,value:function(a,b,d,e,f){return new Promise(function(e,g){function h(){return e()}var i,j,k,l;if(i=b.getLine(d.row).trim().split(' '),1<i.length&&q.includes(i[0])){j=i.shift(),k=i.join(' ');var m=function(){try{return h.call(this)}catch(a){return g(a)}}.bind(this),n=function(a){try{throw f(null,[]),a}catch(a){return g(a)}};try{return Promise.resolve(c.autoCompleteFunction(j,k)).then(function(b){try{return l=b,f(null,l),c._resizePopup(a,l),m()}catch(a){return n(a)}},n)}catch(a){n(a)}}return h.call(this)})}}),Object.defineProperty(this,'_resizePopup',{enumerable:!0,writable:!0,value:function(a,b){if(!u.a.isEmpty(b)){var d=u.a.map(b,'caption'),e=u.a.orderBy(d,'length','desc').shift(),f=c._calculateVisualLength(a,e);a.completer.popup.container.style.width=f+50+'px'}}}),Object.defineProperty(this,'_calculateVisualLength',{enumerable:!0,writable:!0,value:function(a,b){var c=a.getOptions(),d=c.fontFamily,e=c.fontSize,f=w()(b,{font:d,fontSize:e}),g=f.width;return g}}),this.autoCompleteFunction=b},y=c(8),z=c.n(y),A=c(9),B=c.n(A),C=c(10),D=c.n(C),E=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},F=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),G=function(a){function b(a){f(this,b);var c=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return Object.defineProperty(c,'state',{enumerable:!0,writable:!0,value:{value:c.props.initialValue}}),Object.defineProperty(c,'setAceEditorRef',{enumerable:!0,writable:!0,value:function(a){c.AceEditorRef=a}}),Object.defineProperty(c,'onChange',{enumerable:!0,writable:!0,value:function(a){c.setState({value:a});var b=c.props.onValueChange,d=c.state.value;b(d)}}),c.AceEditorRef=null,c}return h(b,a),F(b,[{key:'componentDidMount',value:function(){var a=this.props.autoCompleteFunction,b=new s,c=new x(a),d=p.a.acequire('ace/ext/language_tools');d.setCompleters([b,c])}},{key:'componentWillReceiveProps',value:function(a,b){a.initialValue!==b.value&&this.setState({value:a.initialValue})}},{key:'render',value:function(){var a=this.props.uniqueId,b=this.state.value;return Object(i.createElement)(n.a,E({},this.props,{ref:this.setAceEditorRef,mode:'gherkin',value:b,name:a,editorProps:{$blockScrolling:!0},onChange:this.onChange}))}},{key:'ace',get:function(){return this.AceEditorRef.editor}}]),b}(i.Component);Object.defineProperty(G,'propTypes',{enumerable:!0,writable:!0,value:{initialValue:l.a.string,uniqueId:l.a.oneOfType([l.a.number,l.a.string]),onValueChange:l.a.func,autoCompleteFunction:l.a.func}}),Object.defineProperty(G,'defaultProps',{enumerable:!0,writable:!0,value:{initialValue:'',uniqueId:Math.random().toString(36).substr(2,9),onValueChange:function(){},autoCompleteFunction:function(){return Promise.resolve([])},theme:'jira',width:'100%',fontSize:14,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,setOptions:{fontFamily:'\'SFMono-Medium\', \'SF Mono\', \'Segoe UI Mono\', \'Roboto Mono\', \'Ubuntu Mono\', Menlo, Consolas, Courier, monospace',enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,showLineNumbers:!0,displayIndentGuides:!0,tabSize:2}}});b['default']=G},function(a){a.exports=require('prop-types')},function(a){a.exports=require('react-ace')},function(a){a.exports=require('brace')},function(a){a.exports=require('lodash')},function(a){a.exports=require('calculate-size')},function(){ace.define('ace/theme/jira',['require','exports','module','ace/lib/dom'],function(a,b){'use strict';b.isDark=!1,b.cssClass='ace-jira',b.cssText='ace_editor {\n  margin: auto;\n  width: 100%;\n}\n.ace-jira .ace_gutter {\n  background: rgb(235, 236, 240);\n  color: rgb(137, 147, 164);\n}\n\n.ace-jira .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-jira .ace_fold {\n  background-color: #6B72E6;\n}\n\n.ace-jira {\n  background: rgb(244, 245, 247);\n  color: rgb(23, 43, 77);\n}\n\n.ace-jira .ace_cursor {\n  color: black;\n}\n\n.ace-jira .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-jira .ace_storage, .ace-jira .ace_keyword {\n  color: rgb(0, 82, 204);\n  font-weight: bolder;\n}\n\n.ace-jira .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-jira .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-jira .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-jira .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-jira .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-jira .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-jira .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-jira .ace_support.ace_type,\n  .ace-jira .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-jira .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-jira .ace_string {\n  color: rgb(54, 179, 126);\n}\n\n.ace-jira .ace_comment {\n  color: rgb(80, 95, 121);\n}\n\n.ace-jira .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-jira .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-jira .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-jira .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-jira .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-jira .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n.ace-jira .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-jira .ace_list {\n  color: rgb(185, 6, 144);\n}\n\n.ace-jira .ace_meta.ace_tag {\n  color: rgb(0, 22, 142);\n}\n\n.ace-jira .ace_string.ace_regex {\n  color: rgb(255, 0, 0);\n}\n\n.ace-jira .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n\n.ace-jira.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n\n.ace-jira .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-jira .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-jira .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-jira .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-jira .ace_gutter-active-line {\n  background-color: #dcdcdc;\n}\n\n.ace-jira .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-jira .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}';var c=a('../lib/dom');c.importCssString(b.cssText,b.cssClass)})},function(a){a.exports=require('brace/mode/gherkin')},function(a){a.exports=require('brace/ext/language_tools')}])});
//# sourceMappingURL=GherkinEditor.js.map